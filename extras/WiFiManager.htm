<!DOCTYPE html>
<html lang='ru'>
<head>
<meta name='format-detection' content='telephone=no'>
<meta charset='UTF-8'>
<meta  name='viewport' content='width=device-width,initial-scale=1,user-scalable=no'/>
<title>Config ESP</title>
<script>function c(l){document.getElementById('s').value=l.getAttribute('data-ssid')||l.innerText||l.textContent;p = l.nextElementSibling.classList.contains('l');document.getElementById('p').disabled = !p;if(p)document.getElementById('p').focus();};function f() {var x = document.getElementById('p');x.type==='password'?x.type='text':x.type='password';}</script>
<style>.c,body{text-align:center;font-family:verdana}div,input,select{padding:5px;font-size:1em;margin:5px 0;box-sizing:border-box}input,button,select,.msg{border-radius:.3rem;width: 100%}input[type=radio],input[type=checkbox]{width:auto}button,input[type='button'],input[type='submit']{cursor:pointer;border:0;background-color:#1fa3ec;color:#fff;line-height:2.4rem;font-size:1.2rem;width:100%}input[type='file']{border:1px solid #1fa3ec}.wrap {text-align:left;display:inline-block;min-width:260px;max-width:500px}a{color:#000;font-weight:700;text-decoration:none}a:hover{color:#1fa3ec;text-decoration:underline}.q{height:16px;margin:0;padding:0 5px;text-align:right;min-width:38px;float:right}.q.q-0:after{background-position-x:0}.q.q-1:after{background-position-x:-16px}.q.q-2:after{background-position-x:-32px}.q.q-3:after{background-position-x:-48px}.q.q-4:after{background-position-x:-64px}.q.l:before{background-position-x:-80px;padding-right:5px}.ql .q{float:left}.q:after,.q:before{content:'';width:16px;height:16px;display:inline-block;background-repeat:no-repeat;background-position: 16px 0;background-image:url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAAAQCAMAAADeZIrLAAAAJFBMVEX///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADHJj5lAAAAC3RSTlMAIjN3iJmqu8zd7vF8pzcAAABsSURBVHja7Y1BCsAwCASNSVo3/v+/BUEiXnIoXkoX5jAQMxTHzK9cVSnvDxwD8bFx8PhZ9q8FmghXBhqA1faxk92PsxvRc2CCCFdhQCbRkLoAQ3q/wWUBqG35ZxtVzW4Ed6LngPyBU2CobdIDQ5oPWI5nCUwAAAAASUVORK5CYII=');}@media (-webkit-min-device-pixel-ratio: 2),(min-resolution: 192dpi){.q:before,.q:after {background-image:url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALwAAAAgCAMAAACfM+KhAAAALVBMVEX///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAOrOgAAAADnRSTlMAESIzRGZ3iJmqu8zd7gKjCLQAAACmSURBVHgB7dDBCoMwEEXRmKlVY3L//3NLhyzqIqSUggy8uxnhCR5Mo8xLt+14aZ7wwgsvvPA/ofv9+44334UXXngvb6XsFhO/VoC2RsSv9J7x8BnYLW+AjT56ud/uePMdb7IP8Bsc/e7h8Cfk912ghsNXWPpDC4hvN+D1560A1QPORyh84VKLjjdvfPFm++i9EWq0348XXnjhhT+4dIbCW+WjZim9AKk4UZMnnCEuAAAAAElFTkSuQmCC');background-size: 95px 16px;}}.msg{padding:20px;margin:20px 0;border:1px solid #eee;border-left-width:5px;border-left-color:#777}.msg h4{margin-top:0;margin-bottom:5px}.msg.P{border-left-color:#1fa3ec}.msg.P h4{color:#1fa3ec}.msg.D{border-left-color:#dc3630}.msg.D h4{color:#dc3630}.msg.S{border-left-color: #5cb85c}.msg.S h4{color: #5cb85c}dt{font-weight:bold}dd{margin:0;padding:0 0 0.5em 0;min-height:12px}td{vertical-align: top;}.h{display:none}button{transition: 0s opacity;transition-delay: 3s;transition-duration: 0s;cursor: pointer}button.D{background-color:#dc3630}button:active{opacity:50% !important;cursor:wait;transition-delay: 0s}body.invert{background-color:#060606;}body.invert,body.invert a,body.invert h1 {color:#fff;}body.invert .msg{color:#fff;background-color:#282828;border-top:1px solid #555;border-right:1px solid #555;border-bottom:1px solid #555;}body.invert .q[role=img]{-webkit-filter:invert(1);filter:invert(1);}:disabled {opacity: 0.5;}</style>
</head>
<body class='wifi'>
<div class='wrap'>
  <div><a href='#p' onclick='c(this)' data-ssid='private-koptevo-wlan-bgn'>private-koptevo-wlan-bgn</a>
    <div role='img' aria-label='100%' title='100%' class='q q-4 l '></div>
    <div class='q h'>100%</div>
  </div>
  <div><a href='#p' onclick='c(this)' data-ssid='private-koptevo-wlan-ext'>private-koptevo-wlan-ext</a>
    <div role='img' aria-label='80%' title='80%' class='q q-3 l '></div>
    <div class='q h'>80%</div>
  </div>
  <div><a href='#p' onclick='c(this)' data-ssid='grech'>grech</a>
    <div role='img' aria-label='56%' title='56%' class='q q-3 l '></div>
    <div class='q h'>56%</div>
  </div>
  <div><a href='#p' onclick='c(this)' data-ssid='TP-Link_8564'>TP-Link_8564</a>
    <div role='img' aria-label='48%' title='48%' class='q q-2 l '></div>
    <div class='q h'>48%</div>
  </div>
  <div><a href='#p' onclick='c(this)' data-ssid='MTS_GPON_79a140'>MTS_GPON_79a140</a>
    <div role='img' aria-label='38%' title='38%' class='q q-2 l '></div>
    <div class='q h'>38%</div>
  </div>
  <div><a href='#p' onclick='c(this)' data-ssid='Wood Bull'>Wood&#160;Bull</a>
    <div role='img' aria-label='30%' title='30%' class='q q-2 l '></div>
    <div class='q h'>30%</div>
  </div>
  <div><a href='#p' onclick='c(this)' data-ssid='OperaWiFi'>OperaWiFi</a>
    <div role='img' aria-label='30%' title='30%' class='q q-2 l '></div>
    <div class='q h'>30%</div>
  </div>
  <div><a href='#p' onclick='c(this)' data-ssid='TAKSA_Guest'>TAKSA_Guest</a>
    <div role='img' aria-label='26%' title='26%' class='q q-2 l '></div>
    <div class='q h'>26%</div>
  </div>
  <div><a href='#p' onclick='c(this)' data-ssid='RT-WiFi-4D94'>RT-WiFi-4D94</a>
    <div role='img' aria-label='24%' title='24%' class='q q-2 l '></div>
    <div class='q h'>24%</div>
  </div>
  <br/>
  <form method='POST' action='wifisave'>
    <label for='s'>SSID</label>
    <input id='s' name='s' maxlength='32' autocorrect='off' autocapitalize='none' placeholder=''>
    <br/>
    <label for='p'>Password</label>
    <input id='p' name='p' maxlength='64' type='password' placeholder=''>
    <input type='checkbox' id='showpass' onclick='f()'>
    <label for='showpass'>Show Password</label>
    <br/>
    <hr>
    <br/>
    <label for='sleep_period'>Период отправки показаний, мин.:</label>
    <br/>
    <input id='sleep_period' name='sleep_period' maxlength='10' value='60'  type="number">
    <h3>MQTT</h3>
    <label for='mqtt_host'>Адрес брокера:</label>
    <br/>
    <input id='mqtt_host' name='mqtt_host' maxlength='15' value='' >
    <label for='mqtt_port'>Порт:</label>
    <br/>
    <input id='mqtt_port' name='mqtt_port' maxlength='10' value='1883'  type="number">
    <label for='mqtt_login'>Логин:</label>
    <br/>
    <input id='mqtt_login' name='mqtt_login' maxlength='31' value='' >
    <label for='mqtt_password'>Пароль:</label>
    <br/>
    <input id='mqtt_password' name='mqtt_password' maxlength='31' value='' >
    <label for='mqtt_topic'>Топик данных:</label>
    <br/>
    <input id='mqtt_topic' name='mqtt_topic' maxlength='63' value='vccmon/16559252/' >
    <label for='mqtt_discovery_topic'>Топик Home Assistant:</label>
    <br/>
    <input id='mqtt_discovery_topic' name='mqtt_discovery_topic' maxlength='63' value='homeassistant' >
    <label class='chk-box'>Автоматическое добавление в Home Assistant<br/>
    <input id='mqtt_auto_discovery' name='mqtt_auto_discovery' maxlength='2' value='T'  type="checkbox" checked>
    <span class='box'></span></label>
    <h3>Статистика</h3>
    <label for='stat_host'>URL сбора статистики:</label>
    <br/>
    <input id='stat_host' name='stat_host' maxlength='63' value='' >
    <label class='chk-box'>Расширенные настройки
    <input type='checkbox' id='chbox' name='chbox' onclick='extraConf()'>
    <span class='box'></span></label>
    <div id='extra_conf' style='display:none'>
      <h3>Сетевые настройки</h3>
      <label>MAC адрес: D8:BF:C0:FC:AC:94</label>
      <br />
      <br />
      <label for='ip'>Статический IP (оставьте 0.0.0.0 для DHCP):</label>
      <br/><input id='ip' name='ip' maxlength='16' value='0.0.0.0' minlength="7" maxlength="15" size="15" pattern="^((\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.){3}(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])$"> 
      <label for='gateway'>Шлюз:</label>
      <br/><input id='gateway' name='gateway' maxlength='16' value='192.168.0.1' minlength="7" maxlength="15" size="15" pattern="^((\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.){3}(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])$"> 
      <label for='mask'>Маска подсети:</label>
      <br/><input id='mask' name='mask' maxlength='16' value='255.255.255.0' minlength="7" maxlength="15" size="15" pattern="^((\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.){3}(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])$"> 
      <label>Режим работы WiFi:</label>
      <label for='wifi_phy_mode'></label>
      <select class='drop' id='wifi_phy_mode' name='wifi_phy_mode'>
        <option value='3'>11n</option>
      </select>
      <label for='ntp_server'>Сервер времени (NTP):</label>
      <br/>
      <input id='ntp_server' name='ntp_server' maxlength='63' value='ru.pool.ntp.org' >
      <label for='tz'>Часовой пояс (разница с UTC):</label>
      <br/>
      <input id='tz' name='tz' maxlength='10' value='3'  type="number">
    </div>
    <br/>
    <br/>
    <button type='submit'>Save</button>
  </form>
  <div class='msg'>No AP set</div>
</div>
</body>
</html>
